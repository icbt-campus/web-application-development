<!DOCTYPE html>
<!--

  HTML5 Form Actions

  Ashen Gunaratne
  mail@ashenm.ml

-->
<html lang="en">
  <head>

    <title>search</title>

    <script>

      const align = function changeSearchEndpoint (e) {
        document.querySelector('form').setAttribute('action', this.options[this.selectedIndex].value);
        document.querySelector('#query').setAttribute('name', this.options[this.selectedIndex].dataset.key);
      }

      document.onreadystatechange = function onDOMContentLoaded () {

        if (document.readyState !== 'interactive') {
          return false;
        }

        document.querySelector('#engine').addEventListener('input', align);

      };

    </script>

  </head>
  <body>
    <form>
      <input id="query" required="required" type="text" />
      <select id="engine" required="required">
        <option disabled="disabled" selected="selected"></option>
        <option value="https://www.google.com/search" data-key="q">Google</option>
        <option value="https://www.bing.com/search" data-key="q">Being</option>
        <option value="https://search.yahoo.com/search" data-key="p">Yahoo!</option>
      </select>
      <input type="submit" value="search" />
    </form>
  </body>
</html>
